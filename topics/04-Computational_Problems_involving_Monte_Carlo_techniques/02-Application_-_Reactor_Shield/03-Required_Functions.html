<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <title>Computational Physics</title>

    <!-- Bootstrap core CSS -->
    <link href="../../../style/bootstrap/css/bootstrap.min.css" rel="stylesheet">
<link href="//maxcdn.bootstrapcdn.com/font-awesome/4.2.0/css/font-awesome.min.css" rel="stylesheet">

    <!-- Custom styles for this template -->
    <link href="../../../style/codehilite/css/default.css" rel="stylesheet">
    <link href="../../../style/misc/css/module.css" rel="stylesheet">
    <link href="../../../style/misc/css/practical.css" rel="stylesheet">

    <!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!--[if lt IE 9]>
      <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
      <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->

	<script type="text/javascript"
	  src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML">
	</script>

  </head>

<body>

	<!-- Fixed navbar -->
	<div class="navbar navbar-default navbar-fixed-top" role="navigation">
		<div class="container">
			
			
	    	<div class="collapse navbar-collapse">

				<ul class="nav navbar-nav navbar-left">
					<!-- Moodle -->
					<li>
						<div class="navbar-header">
							<a class="navbar-brand" href="https://moodle.wit.ie/course/view.php?id=192450" target="_blank"><img height="18pt" src="../../../style/misc/img/moodle_logo_on_blue.gif" /></a>
						</div>						
					</li>
					<li>
						<div class="navbar-header">
							<a class="navbar-brand" href="https://moodle.wit.ie/course/view.php?id=192450" target="_blank"><img height="18pt" src="../../../style/misc/img/slack_logo.png" /></a>
						</div>						
					</li>
				</ul>

	      		<ul class="nav navbar-nav navbar-right">

					<!-- module home -->
					<li>
						<div class="navbar-header">
							<a class="navbar-brand" href="../../../index.html"><span class="glyphicon glyphicon-home"></span></a>
						</div>						
					</li>
					
					<!-- topics -->
	        		<li>
						<div class="navbar-collapse collapse" id="b">
							<ul class="nav navbar-nav">
								<li class="dropdown">
									<a href="#" class="dropdown-toggle" data-toggle="dropdown">
										<span class="glyphicon glyphicon-list-alt"></span>
									</a>
									<ul class="dropdown-menu" role="menu">
										<li class="dropdown-header">Topics</li>
										
										<li >
											<a href="../../../topics/01-Exploratory_Data_Analysis/index.html">Exploratory Data Analysis</a>
										</li>
										
										<li >
											<a href="../../../topics/02-Computational_Problems_Involving_Probability/index.html">Computational Problems Involving Probability</a>
										</li>
										
										<li >
											<a href="../../../topics/03-Computational_Problems_involving_Marko_Chains/index.html">Computational Problems involving Marko Chains</a>
										</li>
										
										<li class="active">
											<a href="../../../topics/04-Computational_Problems_involving_Monte_Carlo_techniques/index.html">Computational Problems involving Monte Carlo techniques</a>
										</li>
										
									</ul>
								</li>
							</ul>
						</div>			
					</li>

					<!-- resources -->
	        		<li>
						<div class="navbar-collapse collapse" id="b">
							<ul class="nav navbar-nav">
								<li class="dropdown">
									<a href="#" class="dropdown-toggle" data-toggle="dropdown">
										<span class="glyphicon glyphicon-th-list"></span>
									</a>
									<ul class="dropdown-menu" role="menu">
										<li class="dropdown-header">Resources</li>
										
										<li >
											<a href="../../../topics/04-Computational_Problems_involving_Monte_Carlo_techniques/index.html#01-Introduction_to_Monte_Carlo">Introduction to Monte Carlo</a>
										</li>
										
										<li class="active">
											<a href="../../../topics/04-Computational_Problems_involving_Monte_Carlo_techniques/index.html#02-Application_-_Reactor_Shield">Application - Reactor Shield</a>
										</li>
										
										<li >
											<a href="../../../topics/04-Computational_Problems_involving_Monte_Carlo_techniques/index.html#03-Application_-_Ising_Model">Application - Ising Model</a>
										</li>
										
									</ul>
								</li>
							</ul>
						</div>			
					</li>
								
					<!-- pages-->
	        		<li>
						<div class="navbar-collapse collapse" id="c">
							<ul class="nav navbar-nav">
								<li class="dropdown">
									<a href="#" class="dropdown-toggle" data-toggle="dropdown">
										<span>Required Functions</span
									</a>
									<ul class="dropdown-menu" role="menu">
										
										<li >
											<a href="00-Outline.html">Outline</a>
										</li>
										
										<li >
											<a href="01-Sampling_Initial_Energy.html">Sampling Initial Energy</a>
										</li>
										
										<li >
											<a href="02-Generate_particles.html">Generate particles</a>
										</li>
										
										<li class="active">
											<a href="03-Required_Functions.html">Required Functions</a>
										</li>
										
										<li >
											<a href="04-Run_Simulation.html">Run Simulation</a>
										</li>
										
									</ul>
								</li>
							</ul>
						</div>			
					</li> 
					
	        	</ul>
			</div>
		</div>
	</div>

	<!-- contents -->
	<div class="container">
		
		<ul class="pager">
			
			<li class="previous"><a href="02-Generate_particles.html">&larr; Previous (Generate particles)</a></li>
			
			
			
			<li class="next"><a href="04-Run_Simulation.html">Next (Run Simulation) &rarr;</a></li>
			
		</ul>
		
		<h1>Required Functions</h1>
<h2>Task 3A &mdash; Compute the particle cross-section</h2>
<p>The cross section, \(\sigma\), of a particle depends on the energy, via</p>
<p>\[
    \sigma = 10 * np.exp(-0.1/y)
\]
with 
\[
    y = max(0.02, s)
\]
and
\[
s =  \left| \sin \left(100 \left(\text{e}^E-1\right)\right) + \sin\left(18.81 \left({\text{e}^E-1}\right)\right) \right|
\]
where \(E\) is the energy of the particle.</p>
<p><strong>Disclaimer</strong></p>
<p>I'm unsure of the above definition of a particle cross section. I know that the cross section of a particle depends on its energy, but I do not know the theory or what to expect. I have some old FORTRAN code which approximates the cross section using the above formula, but have not been able to find the formula in other sources.  However, the MSc thesis <a href="https://scholarcommons.sc.edu/cgi/viewcontent.cgi?article=6511&amp;context=etd">Modeling Neutron Interaction Inside a 2D Reactor Using Monte Carlo Method. (Islam, A F (2019)</a> discusses cross section and include graphs (figure 3.3 and 3.4) that are (somewhat) similar to that produced by the above formula.</p>
<p>Implement a function that evaluates the above formula using signature </p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span class="normal">1</span>
<span class="normal">2</span></pre></div></td><td class="code"><div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">cross_section</span><span class="p">(</span><span class="n">energy</span><span class="p">):</span>
    <span class="k">return</span> <span class="mi">0</span>
</code></pre></div>
</td></tr></table>
<p>and generate the following graph</p>
<figure>
  <img src="files/cross_section.png" alt="" width="80%" >
  <figcaption>Profile of cross section as a function of energy.</figcaption>
</figure>

<h2>Task 3B &mdash; Compute distance to collision</h2>
<p>A neutron travels distance <code>distance</code> (cm) before it is absorbed, exits the slab or is scattered. </p>
<p>Based on the particle energy, a distance, <code>distance</code>, is computed which measures how far the particle could travel through the shield before colliding. This is called the <strong>distance to collision</strong>. The distance follows an exponential distribution with parameter \(\sigma\), the cross section, defined above. So \(F^{-1}(u)=\ln(u)/ {\sigma}\)</p>
<p>Implement function <code>distance</code> using signature </p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span class="normal">1</span>
<span class="normal">2</span></pre></div></td><td class="code"><div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">distance</span><span class="p">(</span><span class="n">energy</span><span class="p">):</span>
    <span class="k">return</span> <span class="mi">0</span>
</code></pre></div>
</td></tr></table>
<p>and generate the following graph</p>
<figure>
  <img src="files/distance.png" alt="" width="80%" >
  <figcaption>Distribution of particle distance.</figcaption>
</figure>

<h2>Task 3C &mdash; Update particle position</h2>
<p>Implement function, <code>update</code>, using signature </p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span class="normal">1</span>
<span class="normal">2</span></pre></div></td><td class="code"><div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">update</span><span class="p">(</span><span class="n">particle</span><span class="p">,</span> <span class="n">debug</span><span class="o">=</span><span class="kc">False</span><span class="p">):</span>
    <span class="k">return</span> <span class="mi">0</span>
</code></pre></div>
</td></tr></table>
<p>which computes the new particule position using:</p>
<ul>
<li>Compute the distance a particle will travel.</li>
<li>Compute the new particle position using <code>distance</code> and angles <code>mu</code> and <code>azim</code>. (see <a href="https://stackoverflow.com/questions/20769011/converting-3d-polar-coordinates-to-cartesian-coordinates">Converting 3D polar coordinates to cartesian coordinates</a>)
   Update particle's <code>x</code>,<code>y</code> and <code>z</code>. </li>
</ul>
<p>To help you debug, the following is output of my <code>update</code> function for a single call</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span class="normal">1</span>
<span class="normal">2</span>
<span class="normal">3</span></pre></div></td><td class="code"><div class="highlight"><pre><span></span><code><span class="n">Particle</span><span class="p">:</span>   <span class="n">position</span> <span class="o">=</span> <span class="p">(</span><span class="mf">0.000</span><span class="p">,</span><span class="mf">0.000</span><span class="p">,</span><span class="mf">0.000</span><span class="p">)</span>   <span class="n">mu</span> <span class="o">=</span> <span class="mf">0.396</span>    <span class="n">azim</span> <span class="o">=</span> <span class="mf">2.899</span>    <span class="n">energy</span> <span class="o">=</span> <span class="mf">0.43779</span> 
<span class="n">Particle</span> <span class="n">travelled</span> <span class="n">distance</span> <span class="mf">0.009061178839882379</span>
<span class="n">Particle</span><span class="p">:</span>   <span class="n">position</span> <span class="o">=</span> <span class="p">(</span><span class="mf">0.004</span><span class="p">,</span><span class="o">-</span><span class="mf">0.008</span><span class="p">,</span><span class="mf">0.002</span><span class="p">)</span>   <span class="n">mu</span> <span class="o">=</span> <span class="mf">0.396</span>    <span class="n">azim</span> <span class="o">=</span> <span class="mf">2.899</span>    <span class="n">energy</span> <span class="o">=</span> <span class="mf">0.43779</span> 
</code></pre></div>
</td></tr></table>
		
		<ul class="pager">
			
			<li class="previous"><a href="02-Generate_particles.html">&larr; Previous (Generate particles)</a></li>
			
			
			
			<li class="next"><a href="04-Run_Simulation.html">Next (Run Simulation) &rarr;</a></li>
			
		</ul>

	</div>
	
    <!-- Bootstrap core JavaScript
    ================================================== -->
    <!-- Placed at the end of the document so the pages load faster -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.1/jquery.min.js"></script>
    <script src="../../../style/bootstrap/js/bootstrap.min.js"></script>
	
  </body>
</html>